import subprocess
import os


class DE_BANNERS:
  Start = """

██╗   ██╗██████╗ ██████╗  █████╗ ████████╗███████╗    ███████╗████████╗ █████╗ ██████╗ ████████╗
██║   ██║██╔══██╗██╔══██╗██╔══██╗╚══██╔══╝██╔════╝    ██╔════╝╚══██╔══╝██╔══██╗██╔══██╗╚══██╔══╝
██║   ██║██████╔╝██║  ██║███████║   ██║   █████╗      ███████╗   ██║   ███████║██████╔╝   ██║   
██║   ██║██╔═══╝ ██║  ██║██╔══██║   ██║   ██╔══╝      ╚════██║   ██║   ██╔══██║██╔══██╗   ██║   
╚██████╔╝██║     ██████╔╝██║  ██║   ██║   ███████╗    ███████║   ██║   ██║  ██║██║  ██║   ██║   
 ╚═════╝ ╚═╝     ╚═════╝ ╚═╝  ╚═╝   ╚═╝   ╚══════╝    ╚══════╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝   ╚═╝   
                                                                                                
"""
  Suche = """
  
██╗   ██╗██████╗ ██████╗  █████╗ ████████╗███████╗    ███████╗██╗   ██╗ ██████╗██╗  ██╗███████╗
██║   ██║██╔══██╗██╔══██╗██╔══██╗╚══██╔══╝██╔════╝    ██╔════╝██║   ██║██╔════╝██║  ██║██╔════╝
██║   ██║██████╔╝██║  ██║███████║   ██║   █████╗      ███████╗██║   ██║██║     ███████║█████╗  
██║   ██║██╔═══╝ ██║  ██║██╔══██║   ██║   ██╔══╝      ╚════██║██║   ██║██║     ██╔══██║██╔══╝  
╚██████╔╝██║     ██████╔╝██║  ██║   ██║   ███████╗    ███████║╚██████╔╝╚██████╗██║  ██║███████╗
 ╚═════╝ ╚═╝     ╚═════╝ ╚═╝  ╚═╝   ╚═╝   ╚══════╝    ╚══════╝ ╚═════╝  ╚═════╝╚═╝  ╚═╝╚══════╝
                                                                                               
"""
  Gefunden = """

██╗   ██╗██████╗ ██████╗  █████╗ ████████╗███████╗███████╗     ██████╗ ███████╗███████╗██╗   ██╗███╗   ██╗██████╗ ███████╗███╗   ██╗
██║   ██║██╔══██╗██╔══██╗██╔══██╗╚══██╔══╝██╔════╝██╔════╝    ██╔════╝ ██╔════╝██╔════╝██║   ██║████╗  ██║██╔══██╗██╔════╝████╗  ██║
██║   ██║██████╔╝██║  ██║███████║   ██║   █████╗  ███████╗    ██║  ███╗█████╗  █████╗  ██║   ██║██╔██╗ ██║██║  ██║█████╗  ██╔██╗ ██║
██║   ██║██╔═══╝ ██║  ██║██╔══██║   ██║   ██╔══╝  ╚════██║    ██║   ██║██╔══╝  ██╔══╝  ██║   ██║██║╚██╗██║██║  ██║██╔══╝  ██║╚██╗██║
╚██████╔╝██║     ██████╔╝██║  ██║   ██║   ███████╗███████║    ╚██████╔╝███████╗██║     ╚██████╔╝██║ ╚████║██████╔╝███████╗██║ ╚████║
 ╚═════╝ ╚═╝     ╚═════╝ ╚═╝  ╚═╝   ╚═╝   ╚══════╝╚══════╝     ╚═════╝ ╚══════╝╚═╝      ╚═════╝ ╚═╝  ╚═══╝╚═════╝ ╚══════╝╚═╝  ╚═══╝
                                                                                                                                    
"""
  Updates_Starten = """

███████╗████████╗ █████╗ ██████╗ ████████╗███████╗    ██╗   ██╗██████╗ ██████╗  █████╗ ████████╗███████╗███████╗
██╔════╝╚══██╔══╝██╔══██╗██╔══██╗╚══██╔══╝██╔════╝    ██║   ██║██╔══██╗██╔══██╗██╔══██╗╚══██╔══╝██╔════╝██╔════╝
███████╗   ██║   ███████║██████╔╝   ██║   █████╗      ██║   ██║██████╔╝██║  ██║███████║   ██║   █████╗  ███████╗
╚════██║   ██║   ██╔══██║██╔══██╗   ██║   ██╔══╝      ██║   ██║██╔═══╝ ██║  ██║██╔══██║   ██║   ██╔══╝  ╚════██║
███████║   ██║   ██║  ██║██║  ██║   ██║   ███████╗    ╚██████╔╝██║     ██████╔╝██║  ██║   ██║   ███████╗███████║
╚══════╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝   ╚═╝   ╚══════╝     ╚═════╝ ╚═╝     ╚═════╝ ╚═╝  ╚═╝   ╚═╝   ╚══════╝╚══════╝
                                                                                                                
"""

  Abgebrochen = """

███████╗██████╗ ███████╗ ██████╗ ██╗      ██████╗ ██████╗ ███████╗██╗ ██████╗██╗  ██╗     █████╗ ██████╗  ██████╗ ███████╗██████╗ ██████╗  ██████╗  ██████╗██╗  ██╗███████╗███╗   ██╗
██╔════╝██╔══██╗██╔════╝██╔═══██╗██║     ██╔════╝ ██╔══██╗██╔════╝██║██╔════╝██║  ██║    ██╔══██╗██╔══██╗██╔════╝ ██╔════╝██╔══██╗██╔══██╗██╔═══██╗██╔════╝██║  ██║██╔════╝████╗  ██║
█████╗  ██████╔╝█████╗  ██║   ██║██║     ██║  ███╗██████╔╝█████╗  ██║██║     ███████║    ███████║██████╔╝██║  ███╗█████╗  ██████╔╝██████╔╝██║   ██║██║     ███████║█████╗  ██╔██╗ ██║
██╔══╝  ██╔══██╗██╔══╝  ██║   ██║██║     ██║   ██║██╔══██╗██╔══╝  ██║██║     ██╔══██║    ██╔══██║██╔══██╗██║   ██║██╔══╝  ██╔══██╗██╔══██╗██║   ██║██║     ██╔══██║██╔══╝  ██║╚██╗██║
███████╗██║  ██║██║     ╚██████╔╝███████╗╚██████╔╝██║  ██║███████╗██║╚██████╗██║  ██║    ██║  ██║██████╔╝╚██████╔╝███████╗██████╔╝██║  ██║╚██████╔╝╚██████╗██║  ██║███████╗██║ ╚████║
╚══════╝╚═╝  ╚═╝╚═╝      ╚═════╝ ╚══════╝ ╚═════╝ ╚═╝  ╚═╝╚══════╝╚═╝ ╚═════╝╚═╝  ╚═╝    ╚═╝  ╚═╝╚═════╝  ╚═════╝ ╚══════╝╚═════╝ ╚═╝  ╚═╝ ╚═════╝  ╚═════╝╚═╝  ╚═╝╚══════╝╚═╝  ╚═══╝
                                                                                                                                                                                     
"""

class EN_BANNERS:
  Start = """

██╗   ██╗██████╗ ██████╗  █████╗ ████████╗███████╗    ███████╗████████╗ █████╗ ██████╗ ████████╗
██║   ██║██╔══██╗██╔══██╗██╔══██╗╚══██╔══╝██╔════╝    ██╔════╝╚══██╔══╝██╔══██╗██╔══██╗╚══██╔══╝
██║   ██║██████╔╝██║  ██║███████║   ██║   █████╗      ███████╗   ██║   ███████║██████╔╝   ██║   
██║   ██║██╔═══╝ ██║  ██║██╔══██║   ██║   ██╔══╝      ╚════██║   ██║   ██╔══██║██╔══██╗   ██║   
╚██████╔╝██║     ██████╔╝██║  ██║   ██║   ███████╗    ███████║   ██║   ██║  ██║██║  ██║   ██║   
 ╚═════╝ ╚═╝     ╚═════╝ ╚═╝  ╚═╝   ╚═╝   ╚══════╝    ╚══════╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝   ╚═╝   
                                                                                                
"""
  Search = """

██╗   ██╗██████╗ ██████╗  █████╗ ████████╗███████╗    ███████╗███████╗ █████╗ ██████╗  ██████╗██╗  ██╗
██║   ██║██╔══██╗██╔══██╗██╔══██╗╚══██╔══╝██╔════╝    ██╔════╝██╔════╝██╔══██╗██╔══██╗██╔════╝██║  ██║
██║   ██║██████╔╝██║  ██║███████║   ██║   █████╗      ███████╗█████╗  ███████║██████╔╝██║     ███████║
██║   ██║██╔═══╝ ██║  ██║██╔══██║   ██║   ██╔══╝      ╚════██║██╔══╝  ██╔══██║██╔══██╗██║     ██╔══██║
╚██████╔╝██║     ██████╔╝██║  ██║   ██║   ███████╗    ███████║███████╗██║  ██║██║  ██║╚██████╗██║  ██║
 ╚═════╝ ╚═╝     ╚═════╝ ╚═╝  ╚═╝   ╚═╝   ╚══════╝    ╚══════╝╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝ ╚═════╝╚═╝  ╚═╝
                                                                                                      
"""

  Found = """

███████╗ ██████╗ ██╗   ██╗███╗   ██╗██████╗     ██╗   ██╗██████╗ ██████╗  █████╗ ████████╗███████╗███████╗
██╔════╝██╔═══██╗██║   ██║████╗  ██║██╔══██╗    ██║   ██║██╔══██╗██╔══██╗██╔══██╗╚══██╔══╝██╔════╝██╔════╝
█████╗  ██║   ██║██║   ██║██╔██╗ ██║██║  ██║    ██║   ██║██████╔╝██║  ██║███████║   ██║   █████╗  ███████╗
██╔══╝  ██║   ██║██║   ██║██║╚██╗██║██║  ██║    ██║   ██║██╔═══╝ ██║  ██║██╔══██║   ██║   ██╔══╝  ╚════██║
██║     ╚██████╔╝╚██████╔╝██║ ╚████║██████╔╝    ╚██████╔╝██║     ██████╔╝██║  ██║   ██║   ███████╗███████║
╚═╝      ╚═════╝  ╚═════╝ ╚═╝  ╚═══╝╚═════╝      ╚═════╝ ╚═╝     ╚═════╝ ╚═╝  ╚═╝   ╚═╝   ╚══════╝╚══════╝
                                                                                                          
"""

  Start_Updates = """

███████╗████████╗ █████╗ ██████╗ ████████╗██╗███╗   ██╗ ██████╗     ██╗   ██╗██████╗ ██████╗  █████╗ ████████╗███████╗███████╗
██╔════╝╚══██╔══╝██╔══██╗██╔══██╗╚══██╔══╝██║████╗  ██║██╔════╝     ██║   ██║██╔══██╗██╔══██╗██╔══██╗╚══██╔══╝██╔════╝██╔════╝
███████╗   ██║   ███████║██████╔╝   ██║   ██║██╔██╗ ██║██║  ███╗    ██║   ██║██████╔╝██║  ██║███████║   ██║   █████╗  ███████╗
╚════██║   ██║   ██╔══██║██╔══██╗   ██║   ██║██║╚██╗██║██║   ██║    ██║   ██║██╔═══╝ ██║  ██║██╔══██║   ██║   ██╔══╝  ╚════██║
███████║   ██║   ██║  ██║██║  ██║   ██║   ██║██║ ╚████║╚██████╔╝    ╚██████╔╝██║     ██████╔╝██║  ██║   ██║   ███████╗███████║
╚══════╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═╝   ╚═╝   ╚═╝╚═╝  ╚═══╝ ╚═════╝      ╚═════╝ ╚═╝     ╚═════╝ ╚═╝  ╚═╝   ╚═╝   ╚══════╝╚══════╝
                                                                                                                              
"""

  Cancel = """

███████╗██╗   ██╗ ██████╗ ██████╗███████╗███████╗███████╗███████╗██╗   ██╗██╗     ██╗  ██╗   ██╗     ██████╗ █████╗ ███╗   ██╗ ██████╗███████╗██╗     ███████╗██████╗ 
██╔════╝██║   ██║██╔════╝██╔════╝██╔════╝██╔════╝██╔════╝██╔════╝██║   ██║██║     ██║  ╚██╗ ██╔╝    ██╔════╝██╔══██╗████╗  ██║██╔════╝██╔════╝██║     ██╔════╝██╔══██╗
███████╗██║   ██║██║     ██║     █████╗  ███████╗███████╗█████╗  ██║   ██║██║     ██║   ╚████╔╝     ██║     ███████║██╔██╗ ██║██║     █████╗  ██║     █████╗  ██║  ██║
╚════██║██║   ██║██║     ██║     ██╔══╝  ╚════██║╚════██║██╔══╝  ██║   ██║██║     ██║    ╚██╔╝      ██║     ██╔══██║██║╚██╗██║██║     ██╔══╝  ██║     ██╔══╝  ██║  ██║
███████║╚██████╔╝╚██████╗╚██████╗███████╗███████║███████║██║     ╚██████╔╝███████╗███████╗██║       ╚██████╗██║  ██║██║ ╚████║╚██████╗███████╗███████╗███████╗██████╔╝
╚══════╝ ╚═════╝  ╚═════╝ ╚═════╝╚══════╝╚══════╝╚══════╝╚═╝      ╚═════╝ ╚══════╝╚══════╝╚═╝        ╚═════╝╚═╝  ╚═╝╚═╝  ╚═══╝ ╚═════╝╚══════╝╚══════╝╚══════╝╚═════╝ 
                                                                                                                                                                      
"""



def Updates_DE():
  os.system('clear')
  print(DE_BANNERS.Gefunden)
  print("Updates Gefunden!")
  Update_Starten_Frage = input("Update Prozess Starten? (y/n): ")

  if Update_Starten_Frage == "y".lower():
    os.system('clear')
    print(DE_BANNERS.Updates_Starten)
    
    Updating_DE = subprocess.call(["paru", "--noconfirm"], stdout=subprocess.DEVNULL)
    
    if Updating_DE == 0:
      print("Update erfolgreich.")
      ende_taste = input("Drücke eine Tase zum Beenden.")
      

      if ende_taste != None:
        os.system('clear')
        exit()
    
    elif Updating_DE == 1:
      print(f"Error {Updating_DE}")
      exit()
  elif Update_Starten_Frage == "n".lower():
    print(DE_BANNERS.Abgebrochen)
    os.system('clear')
    exit()

def Updates_EN():
  os.system('clear')
  print(EN_BANNERS.Found)
  print("Found Updates!")

  Update_Start_Question = input("Do you want to start the Update Process? (y/n): ")


  if Update_Start_Question == "y".lower():
    os.system("clear")
    print(EN_BANNERS.Start_Updates)

    # TODO - idk if i can add --noprogressbar
    Updating_EN = subprocess.call(["paru", "--noconfirm"], stdout=subprocess.DEVNULL)

    if Updating_EN == 0:
      print("Update successful")
      end_button = input("Press an Button to Exit.")

      if end_button != None:
        exit()
    
    elif Updating_EN == 1:
      print(f"Error occured {Updating_EN}")
      exit()

  elif Update_Start_Question == "n".lower():
    os.system('clear')
    print(EN_BANNERS.Cancel)
    os.system('clear')
    exit()


with open("settings/language.txt", "r") as language:
  language_selected = language.read().strip()

  if language_selected == "de":
    os.system('clear')
    print(DE_BANNERS.Start)

    # TODO - Einstellungen und mehr hinzu tuen.
    DE_START_FRAGE = input("Willkommen, soll ich nach Updates suchen? (y/n): ")

    if DE_START_FRAGE == "y":
      os.system('clear')
      print(DE_BANNERS.Suche)
      print("Suche nach Updates...")

      Update_suche = subprocess.call(["checkupdates"], stdout=subprocess.DEVNULL)

      if Update_suche == 0:
        print("Updates Gefunden.")
        Updates_DE()
        
      
      elif Update_suche == 1:
        print(f"ERROR {Update_suche}")

      elif Update_suche == 2:
        print("Keine Updates gefunden.")
        ende_taste = input("Taste zum beenden.")

        if ende_taste != None:
          os.system('clear')
          exit()
        
      
      elif DE_START_FRAGE == "n":
        print(DE_BANNERS.Abgebrochen)
        os.system('clear')
        exit()

    elif language_selected == "en":
      print(EN_BANNERS.Start)
      
      # TODO - Add Settings and More.
      EN_Start_Question = input("Welcome, shall i search for Updates? (y/n): ")

      if EN_Start_Question == "y".lower():
        os.system('clear')
        print(EN_BANNERS.Search)
        print("Searching for Updates...")

        Update_Search = subprocess.call(["checkupdates"], stdout=subprocess.DEVNULL)

        if Update_Search == 0:
          print("Found/ Updates!")

        elif Update_Search == 1:
          print(f"ERROR {Update_Search}")
        
        elif Update_Search == 2:
          print("No Updates Found!")
          end_button = input("Press an button to Exit.")

          if end_button != None:
            os.system('clear')
            exit()
      
      elif EN_Start_Question == "n".lower():
        print(EN_BANNERS.Cancel)
        os.system('clear')
        exit()